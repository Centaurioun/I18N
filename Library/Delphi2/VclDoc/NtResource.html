<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<title>Soluling's VCL Classes: NtResource</title>
<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#800080" alink="#FF0000">
<h1 class="unit">Unit NtResource</h1>
<table class="sections wide_list">
<tr>
<td><a class="section"  href="#%40Description">Description</a></td><td>Uses</td><td><a class="section"  href="#%40Classes">Classes, Interfaces, Objects and Records</a></td><td><a class="section"  href="#%40FuncsProcs">Functions and Procedures</a></td><td><a class="section"  href="#%40Types">Types</a></td><td><a class="section"  href="#%40Constants">Constants</a></td><td><a class="section"  href="#%40Variables">Variables</a></td></tr></table>
<a name="%40Description"></a><h2 class="description">Description</h2>
<p>
File Format Specificaiton

<p>This format is designed to store localized form, strings and other resources in several languages. The resource is added as a RCDATA resource into the Delphi project and will be embedded inside the application executable.

<p>Numbers and offsets are 4 bit integers. All strings are without null termination. Strings lengths are specified in the index. Length is length in bytes NOT charcters. Language id ara in ASCII. All other strings are UTF16-LE strings. &tilde; means variable length.

<p>File format: [header] 4 'NTRE' [version] 4 File format version [count] 4 Language count [idIndex1] 8 Language id offset + length [idIndex2] 8 ... [idIndexN] 8 [dataIndex1] 8 Language data offset + length [dataIndex2] 8 ... [dataIndexN] 8 [id1] &tilde; Language id (Ansi string) [id2] &tilde; ... [idN] &tilde; [data1] &tilde; Language data (binary). See language data. [data2] &tilde; ... [dataN] &tilde;

<p>Language data

<p>There is one language data per language. Format: [header] 4 'NTLA' [formcount] 4 Form count [stringcount] 4 String group count [rescount] 4 Resource count

<p>[formName1] 8 Form name offset + length [formName2] 8 ... [formNameN] 8 [formIndex1] 8 Form data offset + length [formIndex2] 8 ... [formIndexN] 8

<p>[stringName1] 8 String group name offset + length [stringName2] 8 ... [stringNameN] 8 [stringIndex1] 8 String group data offset + length [stringIndex2] 8 ... [stringIndexN] 8

<p>[resName1] 8 Resource name offset + length [resName2] 8 ... [resNameN] 8 [resIndex1] 8 Resource data offset + length [resIndex2] 8 ... [resIndexN] 8

<p>[form1] &tilde; Form data. Standard binary form data: TPF0... [form2] &tilde; ... [formN] &tilde;

<p>[string1] &tilde; String data. See String group data. [string2] &tilde; ... [stringN] &tilde;

<p>[resource1] &tilde; Resource data. Plain resource data such as PNG or MP3. [resource2] &tilde; ... [resourceN] &tilde;

<p>String group data: [count] 4 String count [idIndex1] 8 Id offset + length. Ids are alphapetically sorted [idIndex2] 8 ... [idIndexN] 8 [strIndex1] 8 Value offset + length. Ids are alphapetically sorted [strIndex2] 8 ... [strIndexN] 8 [id1] &tilde; Id [id2] &tilde; ... [idN] &tilde; [str1] &tilde; Value [str2] &tilde; ... [strN] &tilde;</p>
<a name="%40Uses"></a><h2 class="overview">Overview</h2>
<a name="%40Classes"></a><h3 class="cio">Classes, Interfaces, Objects and Records</h3>
<table class="classestable wide_list">
<tr class="listheader">
<th class="itemname">Name</th>
<th class="itemdesc">Description</th>
</tr>
<tr class="list">
<td class="itemname">Class&nbsp;<a class="bold"  href="NtResource.TNtResourceLanguage.html"><code>TNtResourceLanguage</code></a></td>
<td class="itemdesc">Contains information about the language such as id, name and image.</td>
</tr>
<tr class="list2">
<td class="itemname">Class&nbsp;<a class="bold"  href="NtResource.TNtDelphiResource.html"><code>TNtDelphiResource</code></a></td>
<td class="itemdesc">&nbsp;</td>
</tr>
<tr class="list">
<td class="itemname">Class&nbsp;<a class="bold"  href="NtResource.TNtDelphiResources.html"><code>TNtDelphiResources</code></a></td>
<td class="itemdesc">&nbsp;</td>
</tr>
</table>
<a name="%40FuncsProcs"></a><h3 class="summary">Functions and Procedures</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code>function <b><a   href="NtResource.html#_T">_T</a></b>( const original: String; const id: String = ''; const group: String = ''): String; overload;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="NtResource.html#Translate">Translate</a></b>( const original: String; const id: String = ''; const group: String = ''): String; overload;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="NtResource.html#_TG">_TG</a></b>(const original, group: String): String;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="NtResource.html#TranslateGroup">TranslateGroup</a></b>(const original, group: String): String;</code></td>
</tr>
</table>
<a name="%40Types"></a><h3 class="summary">Types</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><b><a   href="NtResource.html#TTranslationSource">TTranslationSource</a></b> = (...);</code></td>
</tr>
</table>
<a name="%40Constants"></a><h3 class="summary">Constants</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><b><a   href="NtResource.html#NTRES_RESOURCE_NAME_C">NTRES_RESOURCE_NAME_C</a></b> = 'NtLangRes';</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code><b><a   href="NtResource.html#NTRES_MAGIC_C">NTRES_MAGIC_C</a></b>: array[0..3] of Byte = ($4e, $54, $52, $45);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code><b><a   href="NtResource.html#NTLANG_MAGIC_C">NTLANG_MAGIC_C</a></b>: array[0..3] of Byte = ($4e, $54, $4c, $41);</code></td>
</tr>
</table>
<a name="%40Variables"></a><h3 class="summary">Variables</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><b><a   href="NtResource.html#NtResources">NtResources</a></b>: <a   href="NtResource.TNtDelphiResources.html">TNtDelphiResources</a>;</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Functions and Procedures</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="_T"></a><code>function <b>_T</b>( const original: String; const id: String = ''; const group: String = ''): String; overload;</code></td>
</tr>
<tr><td colspan="1">
<p>
Get the string value in the current language.    </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>original</dt>
<dd>Original string value.</dd>
<dt>id</dt>
<dd>Optional id value. If not present the original value is used.</dd>
<dt>group</dt>
<dd>String group.</dd>
</dl>
<h6 class="description_section">Returns</h6>
<p class="return">String value in the current languages.</p></td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="Translate"></a><code>function <b>Translate</b>( const original: String; const id: String = ''; const group: String = ''): String; overload;</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="_TG"></a><code>function <b>_TG</b>(const original, group: String): String;</code></td>
</tr>
<tr><td colspan="1">
<p>
Get the string value in the current language.   </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>original</dt>
<dd>Original string value.</dd>
<dt>group</dt>
<dd>String group.</dd>
</dl>
<h6 class="description_section">Returns</h6>
<p class="return">String value in the current languages.</p></td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="TranslateGroup"></a><code>function <b>TranslateGroup</b>(const original, group: String): String;</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
<h3 class="detail">Types</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="TTranslationSource"></a><code><b>TTranslationSource</b> = (...);</code></td>
</tr>
<tr><td colspan="1">
&nbsp;<h6 class="description_section">Values</h6>
<ul>
<li>
tsNone: &nbsp;</li>
<li>
tsResource: &nbsp;</li>
<li>
tsFile: &nbsp;</li>
<li>
tsDirectory: &nbsp;</li>
</ul>
</td></tr>
</table>
<h3 class="detail">Constants</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="NTRES_RESOURCE_NAME_C"></a><code><b>NTRES_RESOURCE_NAME_C</b> = 'NtLangRes';</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="NTRES_MAGIC_C"></a><code><b>NTRES_MAGIC_C</b>: array[0..3] of Byte = ($4e, $54, $52, $45);</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="NTLANG_MAGIC_C"></a><code><b>NTLANG_MAGIC_C</b>: array[0..3] of Byte = ($4e, $54, $4c, $41);</code></td>
</tr>
<tr><td colspan="1">
<p>
'NTRE'</p>
</td></tr>
</table>
<h3 class="detail">Variables</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="NtResources"></a><code><b>NtResources</b>: <a   href="NtResource.TNtDelphiResources.html">TNtDelphiResources</a>;</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
</body></html>
